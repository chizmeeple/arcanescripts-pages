<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Arcane Scripts - Blood on the Clocktower Tools</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="container">
      <h1>Arcane Scripts</h1>
      <p class="intro">
        A collection of helpful tools for
        <a href="https://bloodontheclocktower.com/">Blood on the Clocktower</a>,
        the social deduction game of murder, mystery, and deception.
      </p>
      <div class="apps">
        <a href="https://timer.arcane-scripts.net" class="app-link">
          <div class="app-card">
            <h2><span class="app-icon">‚åõ</span> Tower Timer</h2>
            <p>Track day and night phases in Blood on the Clocktower games</p>
          </div>
        </a>
        <a href="https://count.arcane-scripts.net" class="app-link">
          <div class="app-card">
            <h2><span class="app-icon">üé≤</span> Tower Count</h2>
            <p>
              Check character count distributions for Blood on the Clocktower
              setups
            </p>
          </div>
        </a>
        <a href="https://suggestions.arcane-scripts.net" class="app-link">
          <div class="app-card">
            <h2><span class="app-icon">üí°</span> Suggestions</h2>
            <p>Get suggestions for phrases and abilities</p>
          </div>
        </a>
      </div>
      <div class="music-section">
        <h2 class="section-title">üéµ Background Music</h2>
        <div class="playlist-links">
          <a
            href="https://www.youtube.com/watch?v=TInSYXP9ZB8&list=PLhCDyBm6z1NwkkOAyQAMQkeberU9rwMcc"
            class="playlist-link"
            target="_blank"
            rel="noopener noreferrer"
          >
            <span class="playlist-icon">üé≠</span>
            <span class="playlist-name">Bardcore</span>
          </a>
          <a
            href="https://www.youtube.com/watch?v=1oCIZjPxthY&list=PLhCDyBm6z1NyrifTlGYj55uPb6xrlgBih"
            class="playlist-link"
            target="_blank"
            rel="noopener noreferrer"
          >
            <span class="playlist-icon">üåå</span>
            <span class="playlist-name">Atmospheric</span>
          </a>
        </div>
      </div>
      <div class="links-section">
        <h2 class="section-title">üîó Useful Links</h2>
        <div class="useful-links">
          <a
            href="https://bloodontheclocktower.com"
            class="link-item"
            target="_blank"
            rel="noopener noreferrer"
          >
            <span class="link-icon">üé≠</span>
            <span class="link-name">Blood on the Clocktower</span>
          </a>
          <a
            href="https://wiki.bloodontheclocktower.com"
            class="link-item"
            target="_blank"
            rel="noopener noreferrer"
          >
            <span class="link-icon">üìö</span>
            <span class="link-name">Clocktower Wiki</span>
          </a>
          <a
            href="https://www.meetup.com/find/?source=EVENTS&keywords=Clocktower&distance=twoMiles&categoryId=535&location=gb--f2--Farnborough"
            class="link-item"
            target="_blank"
            rel="noopener noreferrer"
          >
            <span class="link-icon">üè∞</span>
            <span class="link-name">Farnborough Clocktower</span>
          </a>
          <a
            href="https://discord.com/invite/4AMcKUy6Dz"
            class="link-item"
            target="_blank"
            rel="noopener noreferrer"
          >
            <span class="link-icon">üá¨üáß</span>
            <span class="link-name">BOTC UK Events</span>
          </a>
        </div>
      </div>
      <div class="qr-section">
        <button class="qr-button" onclick="openQROverlay()">
          <span class="qr-icon">üì±</span>
          <span>Share this page</span>
        </button>
      </div>
    </div>

    <!-- QR Code Overlay -->
    <div id="qrOverlay" class="qr-overlay">
      <div class="qr-content">
        <div class="qr-header">
          <h3>Share Arcane Scripts</h3>
          <button class="close-button" onclick="closeQROverlay()">
            &times;
          </button>
        </div>
        <div class="qr-code-container">
          <div id="qrcode"></div>
          <p class="qr-text">
            Scan to visit <strong>arcane-scripts.net</strong>
          </p>
        </div>
      </div>
    </div>

    <!-- QR Code Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script>
      // Wait for QRCode library to load
      function waitForQRCode(callback) {
        if (typeof QRCode !== 'undefined') {
          callback();
        } else {
          setTimeout(() => waitForQRCode(callback), 100);
        }
      }

      function openQROverlay() {
        document.getElementById('qrOverlay').style.display = 'flex';
        waitForQRCode(generateQRCode);
      }

      function closeQROverlay() {
        document.getElementById('qrOverlay').style.display = 'none';
      }

      function generateQRCode() {
        if (typeof QRCode === 'undefined') {
          console.error('QRCode library not loaded');
          document.getElementById('qrcode').innerHTML =
            '<p style="color: red;">Error: QR Code library failed to load</p>';
          return;
        }

        const qrContainer = document.getElementById('qrcode');
        qrContainer.innerHTML = '';

        console.log('Generating QR code for:', 'https://arcane-scripts.net');

        try {
          new QRCode(qrContainer, {
            text: 'https://arcane-scripts.net',
            width: 200,
            height: 200,
            colorDark: '#000000',
            colorLight: '#FFFFFF',
            correctLevel: QRCode.CorrectLevel.H,
          });
          console.log('QR Code generated successfully');
        } catch (error) {
          console.error('QR Code generation error:', error);
          qrContainer.innerHTML =
            '<p style="color: red;">Error generating QR code: ' +
            error.message +
            '</p>';
        }
      }

      // Close overlay when clicking outside
      document
        .getElementById('qrOverlay')
        .addEventListener('click', function (e) {
          if (e.target === this) {
            closeQROverlay();
          }
        });
    </script>
  </body>
</html>
